const waitless={scripts:[],functions:[]},interactionList=["keydown","mousemove","wheel","touchmove","touchstart","touchend"];let fallbackDelay=1e4,interactionDetected=!1;function loadScripts(t,e){removeEventListeners();let i=0,n=t.length;t.forEach(function(t){let{src:o,location:c="body",callback:r}=t,a=document.createElement("script");a.src=o;let s=!1;a.onload=function(){if(!s){var t;s=!0,t=r,++i===n&&"function"==typeof e&&e(),"function"==typeof t&&t()}},a.onerror=function(){s||(s=!0,function t(o,c){let r=Error(`Failed to load script: ${o}`);i++,"function"==typeof c&&c(r),i===n&&"function"==typeof e&&e(r)}(o,r))},"head"===c?document.head.appendChild(a):"body"===c&&document.body.appendChild(a)});let o=document.querySelectorAll("script[waitless]");o.forEach(t=>{let e=t.getAttribute("waitless");t.src=e,t.removeAttribute("waitless")})}const scriptLoadTimeout=setTimeout(()=>{interactionDetected||loadScripts(waitless.scripts,allScriptsReady)},fallbackDelay);function loadScriptsOnFirstInteraction(){interactionDetected||loadScripts(waitless.scripts,allScriptsReady),interactionDetected=!0,clearTimeout(scriptLoadTimeout)}function allScriptsReady(){waitless.functions.forEach(t=>{"function"==typeof t&&t()})}function isLibraryAvailable(t){return void 0!==window[t]}function removeEventListeners(){interactionList.forEach(t=>{document.removeEventListener(t,loadScriptsOnFirstInteraction)})}interactionList.forEach(t=>{document.addEventListener(t,loadScriptsOnFirstInteraction)});
